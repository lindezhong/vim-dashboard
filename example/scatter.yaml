# 散点图样例配置
# 功能说明：展示销售额与广告投入之间的相关性分析
# 适用场景：相关性分析、数据分布展示、异常值检测等

database:
  type: sqlite
  url: "sqlite:///:memory:"

query:
  sql: |
    WITH sales_data AS (
      SELECT 
        abs(random() % 100) + 10 as ad_spend,
        abs(random() % 200) + 50 as sales,
        abs(random() % 50) + 20 as profit_margin
      FROM (
        SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5
        UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9 UNION SELECT 10
        UNION SELECT 11 UNION SELECT 12 UNION SELECT 13 UNION SELECT 14 UNION SELECT 15
      )
    )
    SELECT 
      ad_spend,
      sales,
      profit_margin,
      CASE 
        WHEN profit_margin > 40 THEN 'High'
        WHEN profit_margin > 25 THEN 'Medium' 
        ELSE 'Low'
      END as profit_category
    FROM sales_data

show:
  type: scatter
  title: "销售额与广告投入相关性分析"
  interval: 50s

  x_column: ad_spend
  y_column: sales
  size_column: profit_margin
  color_column: profit_category
  
  colors:
    High: "#2ecc71"
    Medium: "#f39c12"
    Low: "#e74c3c"
    
  show_countdown: true
  countdown_format: "数据更新: {time}s"